<div class="card px-8 py-6">
  <h2 class="text-lg font-bold">Evaluar Documentación Inicio de Servicio</h2>
  <mat-divider></mat-divider>

  <!-- PERSONAL PROPUESTO -->
  <div class="mt-4 font-bold">PERSONAL PROPUESTO</div>
  <mat-accordion>
    <mat-expansion-panel *ngFor="let prof of personalPropuesto">
      <mat-expansion-panel-header>
        <div class="flex w-full items-center justify-between">
          <span>{{ prof.numeroDocumento }}</span>
          <span class="flex-1 ml-4">{{ prof.nombreCompleto }}</span>
          <span>{{ prof.perfil }}</span>
          <span class="ml-4">TOTAL DOC: {{ prof.totalDocs }} DOCUMENTOS</span>
        </div>
      </mat-expansion-panel-header>
      <div>
        <table class="w-full mt-2">
          <thead>
            <tr>
              <th>Documento</th>
              <th>Archivo</th>
              <th>Fecha Inicio</th>
              <th>Fecha Fin</th>
              <th>Aprobado</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let doc of prof.docs">
              <td>{{ doc.nombre }}</td>
              <td>
                <a *ngIf="doc.archivo" href="#" (click)="descargar(doc)" target="_blank">{{ doc.nombreReal }}</a>
                <span *ngIf="!doc.archivo">Sin archivo</span>
              </td>
              <td>{{ doc.fechaInicio | date:'yyyy-MM-dd' }}</td>
              <td>{{ doc.fechaFin | date:'yyyy-MM-dd' }}</td>
              <td>
                <mat-radio-group [(ngModel)]="doc.aprobado">
                  <mat-radio-button value="SI">Sí</mat-radio-button>
                  <mat-radio-button value="NO">No</mat-radio-button>
                </mat-radio-group>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </mat-expansion-panel>
  </mat-accordion>

  <!-- DOCUMENTACIÓN ADICIONAL -->
  <div class="mt-8 font-bold">DOCUMENTACIÓN ADICIONAL</div>
  <table class="w-full">
    <thead>
      <tr>
        <th>Documento</th>
        <th>Archivo</th>
        <th>Aprobado</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let doc of docsAdicionales">
        <td>{{ doc.nombre }}</td>
        <td>
          <a *ngIf="doc.archivo" href="#" (click)="descargar(doc)" target="_blank">{{ doc.nombreReal }}</a>
          <span *ngIf="!doc.archivo">Sin archivo</span>
        </td>
        <td>
          <mat-radio-group [(ngModel)]="doc.aprobado">
            <mat-radio-button value="SI">Sí</mat-radio-button>
            <mat-radio-button value="NO">No</mat-radio-button>
          </mat-radio-group>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="flex justify-end mt-8 gap-2">
    <button mat-raised-button color="primary" (click)="registrarEvaluacion()">Guardar Evaluación</button>
    <button mat-stroked-button color="primary" (click)="regresar()">Regresar</button>
  </div>
</div>
