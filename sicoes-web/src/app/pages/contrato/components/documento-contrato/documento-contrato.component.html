<div *ngFor="let requisito of requisitos">
    <div *ngIf="esArchivo(requisito)" class="flex flex-col sm:gap-4">
        <ng-container [ngTemplateOutletContext]="{ requisito }" [ngTemplateOutlet]="templateArchivo"></ng-container>
    </div>
</div>

<ng-template #templateArchivo let-requisito="requisito">
    <ng-container [ngTemplateOutletContext]="{ requisito }" [ngTemplateOutlet]="templateSimple"></ng-container>
</ng-template>

<ng-template #templateSimple let-requisito="requisito">
    <div class="flex justify-between mb-4" (change)="setValueChecked(requisito, $event)" *ngIf="requisito.archivo === undefined">
        <div class="flex gap-x-2 w-5/12 leading-[18px] text-justify">
            <mat-checkbox color="primary" [disabled]="true" [checked]="requisito.archivo !== undefined && requisito.archivo !== null">
            </mat-checkbox>
            <span class="break-words text-sm font-sans">{{ requisito.requisito.deSeccionRequisito }}</span>
        </div>
        <div class="flex flex-col gap-y-2 items-end">
            <vex-cmp-evaluacion-contrato [requisito]="requisito" *ngIf="!editable" [editable]="evaluar && !view"></vex-cmp-evaluacion-contrato>
            <vex-form-adjuntos-btn *ngIf="!evaluar && editable" [titulo]="'Archivo (*.pdf)'" [editable]="evaluar === false && !(requisito?.procRevision === '1') && editable" [codigo]="'ADJUNTAR ARCHIVO'"
                [contrato]="requisito" [archivo]="requisito.archivo">
            </vex-form-adjuntos-btn>
            <span *ngIf="requisito?.procRevision === '1' &&  !evaluar" class="italic text-green-600">Estado de evaluación: cumple</span>
        </div>
        
    </div>

    <div class="flex justify-between mb-4" (change)="setValueChecked(requisito, $event)" *ngIf="requisito.archivo !== undefined">
        <div class="flex gap-x-2 w-5/12 leading-[18px] text-justify">
            <mat-checkbox color="primary" [disabled]="true" [checked]="requisito.archivo !== undefined && requisito.archivo !== null">
            </mat-checkbox>
            <span class="break-words text-sm font-sans">{{ requisito.requisito.deSeccionRequisito }}</span>
        </div>
        <div class="flex flex-col gap-y-2 items-end">
            <vex-form-adjuntos-btn [titulo]="'Archivo (*.pdf)'" [editable]="evaluar === false && !(requisito?.procRevision === '1') && editable" [codigo]="'ADJUNTAR ARCHIVO'"
                [contrato]="requisito" [archivo]="requisito.archivo">
            </vex-form-adjuntos-btn>
            <vex-cmp-evaluacion-contrato [requisito]="requisito" *ngIf="!editable" [editable]="evaluar && !view"></vex-cmp-evaluacion-contrato>
            <span *ngIf="requisito?.procRevision === '1' &&  !evaluar" class="italic text-green-600">Estado de evaluación: cumple</span>
        </div>
    </div>
</ng-template>