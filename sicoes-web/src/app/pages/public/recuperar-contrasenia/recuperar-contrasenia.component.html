<vex-page-layout mode="card">
    <vex-page-layout-header class="h-6"></vex-page-layout-header>
    <vex-page-layout-content class="-mt-6" [class.px-gutter]="true">
        <div class="flex flex-col sm:flex-col gap-4 items-center justify-center">
            <div @fadeInUp class="card overflow-hidden w-full max-w-4xl">
                <!-- TITULO -->
                <div class="px-6 py-4 border-b text-center">
                    <h2 class="title m-0">Recuperar Contraseña</h2>
                </div>
                <!-- CAMPOS-->
                <div class="px-6 py-4 flex flex-col">
                    <div class="d-flex justify-content-center">
                        <div class="flex flex-col items-center">
                            <mat-form-field [style.width.px]=500>
                                <mat-label>País</mat-label>
                                <mat-select [formControl]="formGroup.controls.pais" [compareWith]="compareSelecIdListadoDetalle">
                                    <mat-option *ngFor="let obj of listPais" [value]="obj">
                                        {{ obj.nombre }}
                                    </mat-option>
                                </mat-select>
                                <mat-error *ngIf="formGroup.get('pais').hasError('required')">Seleccione País
                                </mat-error>
                            </mat-form-field>
                            <mat-form-field [style.width.px]=500>
                                <mat-label>Tipo de Identificación Tributaria</mat-label>
                                <mat-select [formControl]="formGroup.controls.tipoDocumento"
                                    [compareWith]="compareSelecIdListadoDetalle">
                                    <mat-option *ngFor="let obj of listTipoidentificacion" [value]="obj">
                                        {{ obj.nombre }}
                                    </mat-option>
                                </mat-select>
                                <mat-error *ngIf="formGroup.get('tipoDocumento').hasError('required')">Seleccione Tipo de
                                    Identificación Tributaria
                                </mat-error>
                            </mat-form-field>
                            <mat-form-field  [style.width.px]=500>
                                <mat-label>N° de Identificación Tributaria</mat-label>
                                <input [formControl]="formGroup.controls.codigoRuc" matInput maxlength="15" />
                                <mat-error *ngIf="formGroup.get('codigoRuc').hasError('required')">Ingrese Identificación Tributaria</mat-error>
                            </mat-form-field>
                            <div class="flex flex-col sm:flex-col sm:gap-2 items-center justify-center" *ngIf="!isPasoDosVisible">
                                <button color="primary" mat-raised-button type="button" (click)="pasoUno()" [style.width.px]=250 [disabled]="!isDisabledBtnPasoUno">
                                    Aceptar
                                </button>
                            </div>
                            <div *ngIf="isPasoDosVisible">
                                <div class="flex flex-col sm:flex-row sm:gap-4" [style.width.px]=500>
                                    <mat-form-field [style.width.px]=500>
                                        <mat-label>Correo Electrónico</mat-label>
                                        <input type="correo" [formControl]="formGroup.controls.correo" matInput maxlength="150">
                                    </mat-form-field>
                                    <div style="padding-top: 12px;">
                                        <button color="primary" mat-raised-button type="button" (click)="recuperarContrasenia()" [disabled]="isDisabledBtnCorreo">Enviar Código</button>
                                    </div>
                                </div>
                                <div class="flex flex-col sm:flex-row sm:gap-4" [style.width.px]=500>
                                    <mat-form-field [style.width.px]=500>
                                        <mat-label>Código de Verificación</mat-label>
                                        <input [formControl]="formGroup.controls.codigoVerificacion" matInput maxlength="150">
                                        <mat-hint align="start"><strong>{{msgCodigo}}</strong>
                                        </mat-hint>
                                        <mat-error *ngIf="formGroup.get('codigoVerificacion').hasError('required')">Ingresar código de Verificacion</mat-error>
                                    </mat-form-field>
                                    <div style="padding-top: 12px;">
                                        <button color="primary" mat-raised-button type="button" (click)="validarCodigoVerificacion(formGroup.controls.codigoVerificacion.value)" [disabled]="isDisabledBtnCodigo">Validar Código</button>
                                    </div>
                                </div>
                            </div>
                            <div class="flex flex-col items-center" *ngIf="isPasoTresVisible">
                                <mat-form-field [style.width.px]=500>
                                    <mat-label>Contraseña</mat-label>
                                    <input [type]="inputType" [formControl]="formGroup.controls.contrasenia" matInput required min="8" max="14">
                                    <button (click)="toggleVisibility()" mat-icon-button matSuffix matTooltip="Toggle Visibility" type="button">
                                        <mat-icon *ngIf="visible" svgIcon="mat:visibility"></mat-icon>
                                        <mat-icon *ngIf="!visible" svgIcon="mat:visibility_off"></mat-icon>
                                    </button>
                                    <mat-error *ngIf="formGroup.get('contrasenia').hasError('required')">Ingrese Contraseña</mat-error>
                                </mat-form-field>
                                <mat-form-field [style.width.px]=500>
                                    <mat-label>Repetir Contraseña</mat-label>
                                    <input [type]="inputType1" [formControl]="formGroup.controls.contraseniaRepetir" matInput required min="8" max="14">
                                    <button (click)="toggleVisibility1()" mat-icon-button matSuffix matTooltip="Toggle Visibility" type="button">
                                        <mat-icon *ngIf="visible1" svgIcon="mat:visibility"></mat-icon>
                                        <mat-icon *ngIf="!visible1" svgIcon="mat:visibility_off"></mat-icon>
                                    </button>
                                    <mat-error *ngIf="formGroup.get('contraseniaRepetir').hasError('required')">Ingrese Contraseña</mat-error>
                                </mat-form-field>
                            </div>
                        </div>

                        <div class="flex flex-col items-center">

                        </div>

                        <!--BOTONES-->
                        <div class="flex flex-col sm:flex-col sm:gap-2 items-center justify-center" *ngIf="isPasoTresVisible">
                            <button color="primary" mat-raised-button type="button" (click)="actualizarContrasenia()" [style.width.px]=250 [disabled]="isDisabledBtnRegistrar">
                                Aceptar
                            </button>
                            <button color="primary" mat-raised-button type="button" (click)="cancelar()" [style.width.px]=250 [disabled]="isDisabledBtnRegistrar">
                                Cancelar
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </vex-page-layout-content>
</vex-page-layout>