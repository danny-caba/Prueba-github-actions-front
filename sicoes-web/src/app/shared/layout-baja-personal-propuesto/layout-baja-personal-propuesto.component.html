<div class="flex flex-col sm:flex-row sm:gap-4 mt-4 items-start" *ngIf="!isReview">
  <mat-form-field class="flex-auto">
    <mat-label>Nombres y Apellidos</mat-label>
    <mat-select [formControl]="formGroup.controls.nombreCompleto">
      <mat-option [value]="null" disabled>Seleccione personal</mat-option>
      <mat-option *ngFor="let obj of listPersonalPropuesto" [value]="obj">
        {{ obj.nombreCompleto }}
      </mat-option>
    </mat-select>
    <mat-error *ngIf="formGroup.get('nombreCompleto')?.hasError('required')">
      Seleccione personal
    </mat-error>
  </mat-form-field>
  <button color="primary" mat-raised-button type="button">Guardar</button>
</div>

<div class="mx-0 py-4 border-b overflow-auto" *ngIf="!isReview">
  <mat-form-field  class="flex-auto">
    <mat-label>Fecha Desvinculación</mat-label>
    <input [formControl]="formGroup.controls.fechaDesvinculacion" type="date" min="{{dateHoy | date:'yyyy-MM-dd'}}" matInput>
    <mat-error *ngIf="formGroup.get('fechaDesvinculacion').hasError('required')">Ingrese Fecha de Desvinculacion</mat-error>
  </mat-form-field>
</div>

<div class="w-full overflow-x-auto shadow-2xl rounded" *ngIf="!isReview">
    <table @stagger [dataSource]="listPersonalAgregado" class="w-full table-auto" mat-table matSort>
      <ng-container matColumnDef="tipoDocumento">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Tipo de<br>Documento</th>
        <td class="text-primary font-medium" mat-cell *matCellDef="let element">{{ element?.tipoDocumento }}</td>
      </ng-container>

      <ng-container matColumnDef="numeroDocumento">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Número de<br>Documento</th>
        <td class="text-primary font-medium" mat-cell *matCellDef="let element">{{ element?.numeroDocumento }}</td>
      </ng-container>

      <ng-container matColumnDef="nombreCompleto">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Nombres y apellidos</th>
        <td class="text-primary font-medium break-words whitespace-normal min-w-[100px] py-2" mat-cell *matCellDef="let element">{{ element?.nombreCompleto }}</td>
      </ng-container>

      <ng-container matColumnDef="perfil">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Perfil</th>
        <td class="text-primary font-medium" mat-cell *matCellDef="let element">{{ element?.perfil }}</td>
      </ng-container>

      <ng-container matColumnDef="fechaRegistro">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha de<br>Registro</th>
        <td class="text-primary font-medium" mat-cell *matCellDef="let element">{{ element?.fechaRegistro }}</td>
      </ng-container>

      <ng-container matColumnDef="fechaBaja">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha Baja</th>
        <td class="text-primary font-medium" mat-cell *matCellDef="let element">{{ element?.fechaInicioContractual }}</td>
      </ng-container>

      <ng-container matColumnDef="fechaDesvinculacion">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha<br>Desvinculación</th>
        <td class="text-primary font-medium" mat-cell *matCellDef="let element">{{ element?.estadoReemplazo }}</td>
      </ng-container>

      <!-- Action Column -->

      <ng-container matColumnDef="actions">
        <th *matHeaderCellDef mat-header-cell mat-sort-header>Acciones</th>
        <td *matCellDef="let row" class="w-10 text-secondary" mat-cell>
          <button
            mat-icon-button
            type="button">
            <mat-icon svgIcon="mat:delete"></mat-icon>
          </button>
        </td>
      </ng-container>

      <ng-container matColumnDef="vacio">
        <td mat-footer-cell *matFooterCellDef colspan="9"
        class="text-center text-primary">
        No se encontraron registros
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

      <tr mat-footer-row *matFooterRowDef="['vacio']"
        [class.hidden]="listPersonalAgregado?.length > 0">
      </tr>
    </table>
</div>

<div class="w-full overflow-x-auto shadow-2xl rounded" *ngIf="isReview">
  <table @stagger [dataSource]="listPersonalAgregado" class="w-full table-auto" mat-table matSort>
    <ng-container matColumnDef="tipoDocumento">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Tipo de<br>Documento</th>
      <td class="text-primary font-medium" mat-cell *matCellDef="let element">{{ element?.tipoDocumento }}</td>
    </ng-container>

    <ng-container matColumnDef="numeroDocumento">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Número de<br>Documento</th>
      <td class="text-primary font-medium" mat-cell *matCellDef="let element">{{ element?.numeroDocumento }}</td>
    </ng-container>

    <ng-container matColumnDef="nombreCompleto">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Nombres y apellidos</th>
      <td class="text-primary font-medium break-words whitespace-normal min-w-[100px] py-2" mat-cell *matCellDef="let element">{{ element?.nombreCompleto }}</td>
    </ng-container>

    <ng-container matColumnDef="perfil">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Perfil</th>
      <td class="text-primary font-medium" mat-cell *matCellDef="let element">{{ element?.perfil }}</td>
    </ng-container>

    <ng-container matColumnDef="fechaRegistro">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha de<br>Registro</th>
      <td class="text-primary font-medium" mat-cell *matCellDef="let element">{{ element?.fechaRegistro }}</td>
    </ng-container>

    <ng-container matColumnDef="fechaBaja">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha Baja</th>
      <td class="text-primary font-medium" mat-cell *matCellDef="let element">{{ element?.fechaInicioContractual }}</td>
    </ng-container>

    <ng-container matColumnDef="fechaFinContrato">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha<br>Finalización<br>Contrato</th>
      <td class="text-primary font-medium" mat-cell *matCellDef="let element">{{ element?.fechaInicioContractual }}</td>
    </ng-container>


    <ng-container matColumnDef="vacio">
      <td mat-footer-cell *matFooterCellDef colspan="9"
      class="text-center text-primary">
      No se encontraron registros
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumnsReview"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumnsReview"></tr>

    <tr mat-footer-row *matFooterRowDef="['vacio']"
      [class.hidden]="listPersonalAgregado?.length > 0">
    </tr>
  </table>
</div>
